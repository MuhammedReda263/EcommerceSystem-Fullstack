<div class="container py-5 px-3 px-md-4">

  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-7">

      <div class="card shadow-sm border-0 rounded-4" style="background-color: #f8f9fa;">
        <div class="card-body p-4">

          <!-- Title -->
          <h3 class="fw-bold mb-0 text-primary">Edit Product</h3>
          <div class="title-underline"></div>

          <form [formGroup]="editForm" (ngSubmit)="updateProduct()">

            <!-- NAME -->
            <div class="mb-4">
              <label class="form-label fw-semibold">Product Name</label>
              <input type="text" class="form-control input-custom" formControlName="name">

              <small class="text-danger" *ngIf="editForm.get('name')?.touched && editForm.get('name')?.invalid">
                Name is required.
              </small>
            </div>

            <!-- DESCRIPTION -->
            <div class="mb-4">
              <label class="form-label fw-semibold">Description</label>
              <textarea class="form-control input-custom" formControlName="description" rows="3"></textarea>

              <small class="text-danger" *ngIf="editForm.get('description')?.touched && editForm.get('description')?.invalid">
                Description is required.
              </small>
            </div>

            <!-- PRICES -->
            <div class="row">
              <div class="col-md-6 mb-4">
                <label class="form-label fw-semibold">New Price</label>
                <input type="number" class="form-control input-custom" formControlName="newPrice">

                <small class="text-danger" *ngIf="editForm.get('newPrice')?.touched && editForm.get('newPrice')?.invalid">
                  New Price is required.
                </small>
              </div>

              <div class="col-md-6 mb-4">
                <label class="form-label fw-semibold">Old Price</label>
                <input type="number" class="form-control input-custom" formControlName="oldPrice">

                <small class="text-danger" *ngIf="editForm.get('oldPrice')?.touched && editForm.get('oldPrice')?.invalid">
                  Old Price is required.
                </small>
              </div>
            </div>

            <!-- CATEGORY -->
            <div class="mb-4">
              <label class="form-label fw-semibold">Category</label>
              <select class="form-select input-custom" formControlName="categoryId">
                <option value="" disabled>Select Category</option>

                @for(item of catagories; track $index){
                  <option [value]="item.id">{{ item.name }}</option>
                }
              </select>

              <small class="text-danger" *ngIf="editForm.get('categoryId')?.touched && editForm.get('categoryId')?.invalid">
                Category is required.
              </small>
            </div>

            <!-- PHOTOS -->
            <div class="mb-4">
              <label class="form-label fw-semibold">Upload New Photos (Optional)</label>
              <input type="file" multiple class="form-control input-custom" (change)="onFileSelect($event)">
            </div>

            <!-- SUBMIT -->
            <button class="btn btn-primary btn-lg w-100 mt-3 rounded-3 submit-btn">
              Update Product
            </button>

          </form>

        </div>
      </div>

    </div>
  </div>

</div>
