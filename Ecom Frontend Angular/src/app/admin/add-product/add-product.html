<div class="container py-5 px-3 px-md-4">

  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-7">

      <div class="card shadow-sm border-0 rounded-4 card-custom" style="background-color: #f8f9fa;">
        <div class="card-body p-4">

          <!-- Title -->
          <h3 class="fw-bold mb-0 text-primary">Add Product</h3>
          <div class="title-underline"></div>

          <form [formGroup]="addProductForm" (ngSubmit)="submitForm()">

            <!-- NAME -->
            <div class="mb-4">
              <label class="form-label fw-semibold">Product Name</label>
              <input type="text" class="form-control input-custom" formControlName="name">

              @if(isInvalid('name')) {
                <span class="text-danger small">Name is required.</span>
              }
            </div>

            <!-- DESCRIPTION -->
            <div class="mb-4">
              <label class="form-label fw-semibold">Description</label>
              <textarea class="form-control input-custom" formControlName="description" rows="3"></textarea>

              @if(isInvalid('description')) {
                <span class="text-danger small">Description is required.</span>
              }
            </div>

            <!-- PRICES -->
            <div class="row">
              <div class="col-md-6 mb-4">
                <label class="form-label fw-semibold">New Price</label>
                <input type="number" class="form-control input-custom" formControlName="newPrice">

                @if(isInvalid('newPrice')) {
                  <span class="text-danger small">New Price is required.</span>
                }
              </div>

              <div class="col-md-6 mb-4">
                <label class="form-label fw-semibold">Old Price</label>
                <input type="number" class="form-control input-custom" formControlName="oldPrice">
              </div>
            </div>

            <!-- CATEGORY -->
            <div class="mb-4">
              <label class="form-label fw-semibold">Category</label>
              <select class="form-select input-custom" formControlName="categoryId">
                <option value="">Select Category</option>

                @for(category of categories; track category.id) {
                  <option [value]="category.id">{{ category.name }}</option>
                }
              </select>

              @if(isInvalid('categoryId')) {
                <span class="text-danger small">Category is required.</span>
              }
            </div>

            <!-- PHOTOS -->
            <div class="mb-4">
              <label class="form-label fw-semibold">Product Photos</label>
              <input 
                type="file" 
                multiple 
                class="form-control input-custom" 
                (change)="onFilesSelected($event)">
            </div>

            <!-- SUBMIT -->
            <button class="btn btn-primary btn-lg w-100 mt-3 rounded-3 submit-btn">
              Add Product
            </button>

          </form>

        </div>
      </div>

    </div>
  </div>

</div>
